代码规范：

所有命名必须表达业务语义，同一概念全项目唯一命名
布尔值只允许肯定语义
任何需要注释解释的代码视为设计失败

必须组件化、模块化、抽象化
后端遵循 DDD 分层，依赖方向单向指向更稳定抽象
业务层禁止依赖第三方库、框架或基础设施实现

多处依赖同一能力时必须通过 interface / trait / 抽象类
禁止直接依赖具体实现

单函数不超过 20 行，单文件不超过 500 行
一个函数只做一件事、一个抽象层级
一个函数要么返回值，要么产生副作用，禁止同时存在

使用防护语句提前返回，禁止深层嵌套
同类结果处理禁止连续三次以上 if / else，必须使用结构化方案

禁止吞异常，禁止用返回值表达错误
异常必须可分类、可定位、可追责
不确定输入必须显式校验

禁止隐式共享状态
单例不得保存业务状态
状态修改必须集中、可追踪
参数默认不可变

禁止硬编码环境变量、路径、密钥、魔法数字
配置必须可注入、可替换、可测试

核心业务逻辑与底层能力必须有单元测试
测试代码统一放在 tests（框架要求就近除外）

公共接口返回结构必须稳定
接口变更必须版本化或向后兼容
禁止接口层泄露实现细节

事件、订阅、状态机等机制必须显式建模
事件名必须使用枚举或唯一常量

日志只记录状态变化、关键决策、异常上下文
禁止调试日志、循环内日志残留

新增功能原则上通过新增文件 + 组合 + 依赖注入接入
禁止通过修改原有代码扩大职责

禁止使用注释或打印代替真实功能实现

前端代码必须遵循 ./FRONTEND_PRINCIPLES