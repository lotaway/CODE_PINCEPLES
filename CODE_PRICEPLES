代码规范：

* 注意组件化、模块化、抽象化设计；后端遵循 DDD 与 Controller->Service->Repository/Util 分层；禁止依赖注释解释逻辑，必须通过命名空间、变量名、函数名、枚举表达语义
* 单函数不超过 20 行，单文件不超过 500 行，超过必须拆分
* 核心业务逻辑与底层能力必须有单元测试，测试代码统一放在 tests 目录（框架要求就近除外）
* 命名必须表达业务语义，同一概念全项目唯一命名；布尔值只用肯定语义
* 严禁跨层依赖，依赖方向单向；业务层禁止直接依赖第三方库或基础设施实现
* 禁止吞异常，禁止用返回值表达错误；异常必须可分类、可定位、可追责
* 参数默认不可变；一个函数要么返回值，要么产生副作用，禁止同时存在
* 禁止硬编码环境变量、路径、密钥、魔法数字；配置必须可注入、可测试
* 公共接口返回结构必须稳定；接口变更必须版本化或向后兼容
* 禁止隐式共享状态，单例不得保存业务状态；状态修改必须集中、可追踪
* 日志只记录状态变化、关键决策、异常上下文；禁止调试日志和循环内日志残留
* 新增功能或特性原则上通过新增文件实现，使用组合 + 依赖注入接入；非新增场景可直接修改原文件
* 多处依赖同一类或方法时，必须引入 interface / trait / 抽象类解耦
* 订阅发布、状态机等一一对应机制，事件名必须使用枚举或唯一常量统一定义
* 同类结果处理禁止连续三次以上 if else，必须使用策略模式 / Map / 责任链
* 使用防护语句提前返回，避免深层嵌套
* 文档只描述行为、边界、不变量，不解释实现
* 禁止使用注释或打印代替实际功能实现
* 前端代码必须遵循 ./FRONTEND_PRICEPLES